@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <title>Kookaburra Chat</title>

    @Styles.Render("~/bundles/css/widget")

    @Scripts.Render("~/bundles/js/widget/2")
    <script src="~/signalr/hubs"></script>
</head>
<body>
    <div class="widget">
        @Html.Partial("_Intro")
        @Html.Partial("_Chat")
        @Html.Partial("_GoneOffline")
        @Html.Partial("_Offline")
        @Html.Partial("_ThankYou")
        @Html.Partial("_ThankYouEndChat")
    </div>

    <script type="text/javascript">         

        window.addEventListener('message', function (event) {
            if (event.data == 'init') {             
                $('#visitor-name').focus();
            }
        }); 

        $(document).ready(function () {

            var widgetViewModel = new WidgetViewModel('@(ViewBag.AccountKey)');
            ko.applyBindings(widgetViewModel);

            // initialise the chat
            widgetViewModel.init();
        });    

    </script>
</body>
</html>